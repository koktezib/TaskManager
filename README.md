# TaskManager

## Описание проекта
TaskManager — это веб-сервер для управления задачами, реализованный с использованием языка Rust и фреймворка Actix-Web. Это приложение позволяет пользователям создавать, обрабатывать и отслеживать задачи в рамках различных проектов.

## Инструкции по сборке и запуску

Для запуска проекта необходимо выполнить следующие шаги:

1. Установите Rust и Cargo, если они ещё не установлены.
2. Клонируйте репозиторий проекта.
3. Перейдите в директорию проекта
4. Откройте терминал
5. В терминале выполните команду `cargo build`
6. В терминале выполните команду `diesel migration run`
7. В терминале выполните команду `cargo run`

Теперь API запущено на порту 5535, на локальном сервере.

## Примеры использования API

### Эндпоинты

#### Получение всех задач

- **URL**: `/api/tasks`
- **Method**: `GET`
- **Success Response**:
  - **Code**: 200
  - **Content**: массив объектов `Task`

#### Получение задачи по ID

- **URL**: `/api/tasks/{id}`
- **Method**: `GET`
- **URL Params**:
  - **Required**:
    - `id=[integer]`
- **Success Response**:
  - **Code**: 200
  - **Content**: объект `Task`

#### Создание новой задачи

- **URL**: `/api/tasks`
- **Method**: `POST`
- **Data Params**:
  - **Required**:
    - `title=[string]`
    - `description=[string]`
- **Success Response**:
  - **Code**: 200
  - **Content**: объект `Task`

#### Обновление задачи

- **URL**: `/api/tasks/{id}`
- **Method**: `PUT`
- **URL Params**:
  - **Required**:
    - `id=[integer]`
- **Data Params**:
  - **Required**:
    - `title=[string]`
    - `description=[string]`
- **Success Response**:
  - **Code**: 200
  - **Content**: объект `Task`

#### Удаление задачи

- **URL**: `/api/tasks/{id}`
- **Method**: `DELETE`
- **URL Params**:
  - **Required**:
    - `id=[integer]`
- **Success Response**:
  - **Code**: 200
  - **Content**: "Task deleted successfully"
 
## Описание структуры проекта

Проект включает в себя следующие ключевые компоненты:
- **src/**
  - **main.rs** - точка входа в приложение, запускающая веб-сервер.
  - **lib.rs** - корневой файл библиотеки, объединяющий все модули.
  - **adapters/**
    - **api/** - содержит адаптеры API для взаимодействия с внешними интерфейсами.
    - **mod.rs** - объявляет модули адаптеров.
    - **routes.rs** - определения маршрутов для веб-сервера.
    - **shared/** - общие компоненты, используемые адаптерами.
  - **application/**
    - **helpers/** - вспомогательные функции для бизнес-логики.
    - **mappers/** - мапперы для преобразования доменных моделей.
    - **mod.rs** - объявляет модули уровня приложения.
    - **repo_requesters/** - абстракции для запросов к репозиториям.
    - **repositories/** - реализация абстрактнтых репозиториев для доступа к данным.
  - **dal/**
    - **db_connection.rs** - установление соединения с базой данных.
    - **db_mapper.rs** - мапперы для преобразования данных базы данных.
    - **mod.rs** - объявляет модули уровня доступа к данным.
    - **models.rs** - модели, соответствующие схемам базы данных.
    - **repositories/** - репозитории для взаимодействия с базой данных.
    - **schema.rs** - схемы для ORM.
  - **domain/**
    - **error.rs** - определения ошибок доменного уровня.
    - **mod.rs** - объявляет доменные модели и бизнес-логику.
    - **task/** - модели и логика управления задачами.
  - **infrastructure/**
    - **mod.rs** - инструменты и служебные функции инфраструктурного уровня.

## Команды для запуска тестов и генерации документации

### Тестирование
После сборки проекта тесты можно запустить с помощью следующей команды: `cargo test`
Эта команда запустит все тесты, определённые в проекте, и выведет результаты.

### Генерация документации
Для доступа к документации API перейдите по endpoint `/docs/`. Там вы найдете сгенерированную документацию Swagger UI, которая предоставляет детальное описание всех доступных API-эндпоинтов, включая параметры запросов, ответы и статусы ошибок.

## Архитектурные решения и обоснование выбора библиотек

### Архитектура приложения

Архитектура TaskManager разработана с использованием принципов чистой архитектуры, что обеспечивает разделение ответственности, упрощает тестирование и поддержку кода. Основные компоненты архитектуры включают:

- `domain`: Содержит бизнес-логику и бизнес-объекты (entity и value object). Этот слой является самым внутренним и не зависит от других слоев, что делает бизнес-логику независимой от инфраструктурных изменений.
- `application`: Используется для реализации бизнес-правил приложения. Этот слой содержит логику приложения, которая координирует работу между пользовательским интерфейсом и базой данных через domain слой.
- `dal` (Data Access Layer): Обеспечивает абстракцию для доступа к данным, что позволяет изменять способы хранения данных без воздействия на бизнес-логику.
- `infrastructure`: Включает в себя всё, что нужно для работы приложения вне ядра бизнес-логики (например, база данных, веб-сервер и т.п.).
- `adapters`: Слой, который адаптирует данные из внешних источников (API, базы данных и т.д.) в формат, с которым может работать приложение.

Эта структура способствует изоляции компонентов, упрощая тестирование и обеспечивая гибкость в изменении или замене отдельных частей системы.

### Выбор библиотек и фреймворков

- **Actix-Web**: Выбор этого фреймворка для реализации веб-сервера обусловлен его высокой производительностью и мощной поддержкой асинхронного программирования. Actix-Web обеспечивает эффективную обработку множества запросов, что критически важно для масштабируемых веб-приложений.
- **Diesel**: Используется для взаимодействия с базами данных. Diesel предоставляет безопасный, удобный и эффективный доступ к данным, позволяя легко создавать запросы SQL и управлять схемами баз данных. Его использование помогает минимизировать риски ошибок в SQL-кодах и ускоряет разработку благодаря мощным инструментам генерации и миграции схемы.

  

